/*!
 * w-hc-2-png v1.0.23
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("fs"),require("path"),require("puppeteer")):"function"==typeof define&&define.amd?define(["fs","path","puppeteer"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-hc-2-png"]=e(t.fs,t.path,t.puppeteer)}(this,(function(t,e,r){"use strict";var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var i=Array.isArray,a="object"==typeof n&&n&&n.Object===Object&&n,u=a,c="object"==typeof self&&self&&self.Object===Object&&self,s=u||c||Function("return this")(),f=s.Symbol,l=f,h=Object.prototype,p=h.hasOwnProperty,v=h.toString,d=l?l.toStringTag:void 0;var y=function(t){var e=p.call(t,d),r=t[d];try{t[d]=void 0;var n=!0}catch(t){}var o=v.call(t);return n&&(e?t[d]=r:delete t[d]),o},b=Object.prototype.toString;var g=y,j=function(t){return b.call(t)},_=f?f.toStringTag:void 0;var m=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_&&_ in Object(t)?g(t):j(t)};var O=function(t){return null!=t&&"object"==typeof t},w=m,$=O;var S=function(t){return"symbol"==typeof t||$(t)&&"[object Symbol]"==w(t)},M=i,A=S,x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,D=/^\w*$/;var F=function(t,e){if(M(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!A(t))||(D.test(t)||!x.test(t)||null!=e&&t in Object(e))};var k=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},T=m,P=k;var z,N=function(t){if(!P(t))return!1;var e=T(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},E=s["__core-js_shared__"],I=(z=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"";var U=function(t){return!!I&&I in t},Y=Function.prototype.toString;var L=function(t){if(null!=t){try{return Y.call(t)}catch(t){}try{return t+""}catch(t){}}return""},C=N,H=U,W=k,B=L,V=/^\[object .+?Constructor\]$/,q=Function.prototype,J=Object.prototype,R=q.toString,Z=J.hasOwnProperty,G=RegExp("^"+R.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Q=function(t){return!(!W(t)||H(t))&&(C(t)?G:V).test(B(t))},K=function(t,e){return null==t?void 0:t[e]};var X=function(t,e){var r=K(t,e);return Q(r)?r:void 0},tt=X(Object,"create"),et=tt;var rt=function(){this.__data__=et?et(null):{},this.size=0};var nt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ot=tt,it=Object.prototype.hasOwnProperty;var at=function(t){var e=this.__data__;if(ot){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return it.call(e,t)?e[t]:void 0},ut=tt,ct=Object.prototype.hasOwnProperty;var st=tt;var ft=rt,lt=nt,ht=at,pt=function(t){var e=this.__data__;return ut?void 0!==e[t]:ct.call(e,t)},vt=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=st&&void 0===e?"__lodash_hash_undefined__":e,this};function dt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dt.prototype.clear=ft,dt.prototype.delete=lt,dt.prototype.get=ht,dt.prototype.has=pt,dt.prototype.set=vt;var yt=dt;var bt=function(){this.__data__=[],this.size=0};var gt=function(t,e){return t===e||t!=t&&e!=e},jt=gt;var _t=function(t,e){for(var r=t.length;r--;)if(jt(t[r][0],e))return r;return-1},mt=_t,Ot=Array.prototype.splice;var wt=_t;var $t=_t;var St=_t;var Mt=bt,At=function(t){var e=this.__data__,r=mt(e,t);return!(r<0)&&(r==e.length-1?e.pop():Ot.call(e,r,1),--this.size,!0)},xt=function(t){var e=this.__data__,r=wt(e,t);return r<0?void 0:e[r][1]},Dt=function(t){return $t(this.__data__,t)>-1},Ft=function(t,e){var r=this.__data__,n=St(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function kt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}kt.prototype.clear=Mt,kt.prototype.delete=At,kt.prototype.get=xt,kt.prototype.has=Dt,kt.prototype.set=Ft;var Tt=kt,Pt=X(s,"Map"),zt=yt,Nt=Tt,Et=Pt;var It=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Ut=function(t,e){var r=t.__data__;return It(e)?r["string"==typeof e?"string":"hash"]:r.map},Yt=Ut;var Lt=Ut;var Ct=Ut;var Ht=Ut;var Wt=function(){this.size=0,this.__data__={hash:new zt,map:new(Et||Nt),string:new zt}},Bt=function(t){var e=Yt(this,t).delete(t);return this.size-=e?1:0,e},Vt=function(t){return Lt(this,t).get(t)},qt=function(t){return Ct(this,t).has(t)},Jt=function(t,e){var r=Ht(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Rt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Rt.prototype.clear=Wt,Rt.prototype.delete=Bt,Rt.prototype.get=Vt,Rt.prototype.has=qt,Rt.prototype.set=Jt;var Zt=Rt,Gt=Zt;function Qt(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Qt.Cache||Gt),r}Qt.Cache=Gt;var Kt=Qt;var Xt=function(t){var e=Kt(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e},te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/\\(\\)?/g,re=Xt((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(te,(function(t,r,n,o){e.push(n?o.replace(ee,"$1"):r||t)})),e}));var ne=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},oe=i,ie=S,ae=f?f.prototype:void 0,ue=ae?ae.toString:void 0;var ce=function t(e){if("string"==typeof e)return e;if(oe(e))return ne(e,t)+"";if(ie(e))return ue?ue.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r},se=ce;var fe=i,le=F,he=re,pe=function(t){return null==t?"":se(t)};var ve=function(t,e){return fe(t)?t:le(t,e)?[t]:he(pe(t))},de=S;var ye=function(t){if("string"==typeof t||de(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e},be=ve,ge=ye;var je=function(t,e){for(var r=0,n=(e=be(e,t)).length;null!=t&&r<n;)t=t[ge(e[r++])];return r&&r==n?t:void 0},_e=je;var me=function(t,e,r){var n=null==t?void 0:_e(t,e);return void 0===n?r:n},Oe={},we={get exports(){return Oe},set exports(t){Oe=t}};var $e=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t};var Se=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===r(i[c],c,i))break}return e}},Me=Se();var Ae=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},xe=m,De=O;var Fe=function(t){return De(t)&&"[object Arguments]"==xe(t)},ke=O,Te=Object.prototype,Pe=Te.hasOwnProperty,ze=Te.propertyIsEnumerable,Ne=Fe(function(){return arguments}())?Fe:function(t){return ke(t)&&Pe.call(t,"callee")&&!ze.call(t,"callee")},Ee=Ne,Ie={};var Ue=function(){return!1};!function(t,e){var r=s,n=Ue,o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,u=(a?a.isBuffer:void 0)||n;t.exports=u}({get exports(){return Ie},set exports(t){Ie=t}},Ie);var Ye=/^(?:0|[1-9]\d*)$/;var Le=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Ye.test(t))&&t>-1&&t%1==0&&t<e};var Ce=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},He=m,We=Ce,Be=O,Ve={};Ve["[object Float32Array]"]=Ve["[object Float64Array]"]=Ve["[object Int8Array]"]=Ve["[object Int16Array]"]=Ve["[object Int32Array]"]=Ve["[object Uint8Array]"]=Ve["[object Uint8ClampedArray]"]=Ve["[object Uint16Array]"]=Ve["[object Uint32Array]"]=!0,Ve["[object Arguments]"]=Ve["[object Array]"]=Ve["[object ArrayBuffer]"]=Ve["[object Boolean]"]=Ve["[object DataView]"]=Ve["[object Date]"]=Ve["[object Error]"]=Ve["[object Function]"]=Ve["[object Map]"]=Ve["[object Number]"]=Ve["[object Object]"]=Ve["[object RegExp]"]=Ve["[object Set]"]=Ve["[object String]"]=Ve["[object WeakMap]"]=!1;var qe=function(t){return Be(t)&&We(t.length)&&!!Ve[He(t)]};var Je=function(t){return function(e){return t(e)}},Re={};!function(t,e){var r=a,n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,i=o&&o.exports===n&&r.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=u}({get exports(){return Re},set exports(t){Re=t}},Re);var Ze=qe,Ge=Je,Qe=Re&&Re.isTypedArray,Ke=Qe?Ge(Qe):Ze,Xe=Ae,tr=Ee,er=i,rr=Ie,nr=Le,or=Ke,ir=Object.prototype.hasOwnProperty;var ar=function(t,e){var r=er(t),n=!r&&tr(t),o=!r&&!n&&rr(t),i=!r&&!n&&!o&&or(t),a=r||n||o||i,u=a?Xe(t.length,String):[],c=u.length;for(var s in t)!e&&!ir.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||nr(s,c))||u.push(s);return u},ur=Object.prototype;var cr=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ur)};var sr=function(t,e){return function(r){return t(e(r))}},fr=sr(Object.keys,Object),lr=cr,hr=fr,pr=Object.prototype.hasOwnProperty;var vr=N,dr=Ce;var yr=function(t){return null!=t&&dr(t.length)&&!vr(t)},br=ar,gr=function(t){if(!lr(t))return hr(t);var e=[];for(var r in Object(t))pr.call(t,r)&&"constructor"!=r&&e.push(r);return e},jr=yr;var _r=function(t){return jr(t)?br(t):gr(t)},mr=Me,Or=_r;var wr=yr;var $r=function(t,e){return function(r,n){if(null==r)return r;if(!wr(r))return t(r,n);for(var o=r.length,i=e?o:-1,a=Object(r);(e?i--:++i<o)&&!1!==n(a[i],i,a););return r}},Sr=$r((function(t,e){return t&&mr(t,e,Or)}));var Mr=function(t){return t},Ar=Mr;var xr=$e,Dr=Sr,Fr=function(t){return"function"==typeof t?t:Ar},kr=i;var Tr=function(t,e){return(kr(t)?xr:Dr)(t,Fr(e))};!function(t){t.exports=Tr}(we);var Pr=o(Oe),zr=Tt;var Nr=Tt,Er=Pt,Ir=Zt;var Ur=Tt,Yr=function(){this.__data__=new zr,this.size=0},Lr=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Cr=function(t){return this.__data__.get(t)},Hr=function(t){return this.__data__.has(t)},Wr=function(t,e){var r=this.__data__;if(r instanceof Nr){var n=r.__data__;if(!Er||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ir(n)}return r.set(t,e),this.size=r.size,this};function Br(t){var e=this.__data__=new Ur(t);this.size=e.size}Br.prototype.clear=Yr,Br.prototype.delete=Lr,Br.prototype.get=Cr,Br.prototype.has=Hr,Br.prototype.set=Wr;var Vr=Br;var qr=Zt,Jr=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Rr=function(t){return this.__data__.has(t)};function Zr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new qr;++e<r;)this.add(t[e])}Zr.prototype.add=Zr.prototype.push=Jr,Zr.prototype.has=Rr;var Gr=Zr,Qr=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},Kr=function(t,e){return t.has(e)};var Xr=function(t,e,r,n,o,i){var a=1&r,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t),f=i.get(e);if(s&&f)return s==e&&f==t;var l=-1,h=!0,p=2&r?new Gr:void 0;for(i.set(t,e),i.set(e,t);++l<u;){var v=t[l],d=e[l];if(n)var y=a?n(d,v,l,e,t,i):n(v,d,l,t,e,i);if(void 0!==y){if(y)continue;h=!1;break}if(p){if(!Qr(e,(function(t,e){if(!Kr(p,e)&&(v===t||o(v,t,r,n,i)))return p.push(e)}))){h=!1;break}}else if(v!==d&&!o(v,d,r,n,i)){h=!1;break}}return i.delete(t),i.delete(e),h};var tn=s.Uint8Array,en=gt,rn=Xr,nn=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r},on=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},an=f?f.prototype:void 0,un=an?an.valueOf:void 0;var cn=function(t,e,r,n,o,i,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new tn(t),new tn(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return en(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=nn;case"[object Set]":var c=1&n;if(u||(u=on),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;n|=2,a.set(t,e);var f=rn(u(t),u(e),n,o,i,a);return a.delete(t),f;case"[object Symbol]":if(un)return un.call(t)==un.call(e)}return!1};var sn=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},fn=i;var ln=function(t,e,r){var n=e(t);return fn(t)?n:sn(n,r(t))};var hn=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i},pn=function(){return[]},vn=Object.prototype.propertyIsEnumerable,dn=Object.getOwnPropertySymbols,yn=ln,bn=dn?function(t){return null==t?[]:(t=Object(t),hn(dn(t),(function(e){return vn.call(t,e)})))}:pn,gn=_r;var jn=function(t){return yn(t,gn,bn)},_n=Object.prototype.hasOwnProperty;var mn=function(t,e,r,n,o,i){var a=1&r,u=jn(t),c=u.length;if(c!=jn(e).length&&!a)return!1;for(var s=c;s--;){var f=u[s];if(!(a?f in e:_n.call(e,f)))return!1}var l=i.get(t),h=i.get(e);if(l&&h)return l==e&&h==t;var p=!0;i.set(t,e),i.set(e,t);for(var v=a;++s<c;){var d=t[f=u[s]],y=e[f];if(n)var b=a?n(y,d,f,e,t,i):n(d,y,f,t,e,i);if(!(void 0===b?d===y||o(d,y,r,n,i):b)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var g=t.constructor,j=e.constructor;g==j||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof j&&j instanceof j||(p=!1)}return i.delete(t),i.delete(e),p},On=X(s,"DataView"),wn=Pt,$n=X(s,"Promise"),Sn=X(s,"Set"),Mn=X(s,"WeakMap"),An=m,xn=L,Dn="[object Map]",Fn="[object Promise]",kn="[object Set]",Tn="[object WeakMap]",Pn="[object DataView]",zn=xn(On),Nn=xn(wn),En=xn($n),In=xn(Sn),Un=xn(Mn),Yn=An;(On&&Yn(new On(new ArrayBuffer(1)))!=Pn||wn&&Yn(new wn)!=Dn||$n&&Yn($n.resolve())!=Fn||Sn&&Yn(new Sn)!=kn||Mn&&Yn(new Mn)!=Tn)&&(Yn=function(t){var e=An(t),r="[object Object]"==e?t.constructor:void 0,n=r?xn(r):"";if(n)switch(n){case zn:return Pn;case Nn:return Dn;case En:return Fn;case In:return kn;case Un:return Tn}return e});var Ln=Vr,Cn=Xr,Hn=cn,Wn=mn,Bn=Yn,Vn=i,qn=Ie,Jn=Ke,Rn="[object Arguments]",Zn="[object Array]",Gn="[object Object]",Qn=Object.prototype.hasOwnProperty;var Kn=function(t,e,r,n,o,i){var a=Vn(t),u=Vn(e),c=a?Zn:Bn(t),s=u?Zn:Bn(e),f=(c=c==Rn?Gn:c)==Gn,l=(s=s==Rn?Gn:s)==Gn,h=c==s;if(h&&qn(t)){if(!qn(e))return!1;a=!0,f=!1}if(h&&!f)return i||(i=new Ln),a||Jn(t)?Cn(t,e,r,n,o,i):Hn(t,e,c,r,n,o,i);if(!(1&r)){var p=f&&Qn.call(t,"__wrapped__"),v=l&&Qn.call(e,"__wrapped__");if(p||v){var d=p?t.value():t,y=v?e.value():e;return i||(i=new Ln),o(d,y,r,n,i)}}return!!h&&(i||(i=new Ln),Wn(t,e,r,n,o,i))},Xn=O;var to=function t(e,r,n,o,i){return e===r||(null==e||null==r||!Xn(e)&&!Xn(r)?e!=e&&r!=r:Kn(e,r,n,o,t,i))},eo=Vr,ro=to;var no=k;var oo=function(t){return t==t&&!no(t)},io=oo,ao=_r;var uo=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}},co=function(t,e,r,n){var o=r.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=r[o])[0],s=t[c],f=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var l=new eo;if(n)var h=n(s,f,c,t,e,l);if(!(void 0===h?ro(f,s,3,n,l):h))return!1}}return!0},so=function(t){for(var e=ao(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,io(o)]}return e},fo=uo;var lo=ve,ho=Ee,po=i,vo=Le,yo=Ce,bo=ye;var go=function(t,e,r){for(var n=-1,o=(e=lo(e,t)).length,i=!1;++n<o;){var a=bo(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&yo(o)&&vo(a,o)&&(po(t)||ho(t))},jo=function(t,e){return null!=t&&e in Object(t)},_o=go;var mo=function(t,e){return null!=t&&_o(t,e,jo)},Oo=to,wo=me,$o=mo,So=F,Mo=oo,Ao=uo,xo=ye;var Do=function(t,e){return So(t)&&Mo(e)?Ao(xo(t),e):function(r){var n=wo(r,t);return void 0===n&&n===e?$o(r,t):Oo(e,n,3)}};var Fo=je;var ko=function(t){return function(e){return Fo(e,t)}},To=function(t){return function(e){return null==e?void 0:e[t]}},Po=ko,zo=F,No=ye;var Eo=function(t){return zo(t)?To(No(t)):Po(t)},Io=function(t){var e=so(t);return 1==e.length&&e[0][2]?fo(e[0][0],e[0][1]):function(r){return r===t||co(r,t,e)}},Uo=Do,Yo=Mr,Lo=i,Co=Eo;var Ho=function(t){return"function"==typeof t?t:null==t?Yo:"object"==typeof t?Lo(t)?Uo(t[0],t[1]):Io(t):Co(t)},Wo=Ho,Bo=yr,Vo=_r;var qo=function(t){return function(e,r,n){var o=Object(e);if(!Bo(e)){var i=Wo(r);e=Vo(e),r=function(t){return i(o[t],t,o)}}var a=t(e,r,n);return a>-1?o[i?e[a]:a]:void 0}};var Jo=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1},Ro=/\s/;var Zo=function(t){for(var e=t.length;e--&&Ro.test(t.charAt(e)););return e},Go=/^\s+/;var Qo=function(t){return t?t.slice(0,Zo(t)+1).replace(Go,""):t},Ko=k,Xo=S,ti=/^[-+]0x[0-9a-f]+$/i,ei=/^0b[01]+$/i,ri=/^0o[0-7]+$/i,ni=parseInt;var oi=function(t){if("number"==typeof t)return t;if(Xo(t))return NaN;if(Ko(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ko(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Qo(t);var r=ei.test(t);return r||ri.test(t)?ni(t.slice(2),r?2:8):ti.test(t)?NaN:+t},ii=1/0;var ai=function(t){return t?(t=oi(t))===ii||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var ui=Jo,ci=Ho,si=function(t){var e=ai(t),r=e%1;return e==e?r?e-r:e:0},fi=Math.max;var li=qo((function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=null==r?0:si(r);return o<0&&(o=fi(n+o,0)),ui(t,ci(e),o)}));function hi(t){return"[object String]"===Object.prototype.toString.call(t)}function pi(t){return!(!hi(t)||""===t)}function vi(t){return t!=t}function di(t){let e=!1;if(pi(t))e=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(vi(t))return!1;e=!0}return e}function yi(t){return"[object Array]"===Object.prototype.toString.call(t)}function bi(t){return"[object Object]"===Object.prototype.toString.call(t)}function gi(t){return!!function(t){return"[object Undefined]"===Object.prototype.toString.call(t)}(t)||(!!function(t){return"[object Null]"===Object.prototype.toString.call(t)}(t)||(!!function(t){if(bi(t)){for(let e in t)return!1;return!0}return!1}(t)||(!!function(t){return!(!hi(t)||""!==t)}(t)||(!!function(t){return!!yi(t)&&0===t.length}(t)||!!vi(t)))))}function ji(t){return!!yi(t)&&(0!==t.length&&(1!==t.length||!gi(t[0])))}function _i(t){if(bi(t)){for(let e in t)return!0;return!1}return!1}var mi=/\s/;var Oi=/^\s+/;function wi(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&mi.test(t.charAt(e)););return e}(t)+1).replace(Oi,""):t}function $i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Si="object"==typeof global&&global&&global.Object===Object&&global,Mi="object"==typeof self&&self&&self.Object===Object&&self,Ai=Si||Mi||Function("return this")(),xi=Ai.Symbol,Di=Object.prototype,Fi=Di.hasOwnProperty,ki=Di.toString,Ti=xi?xi.toStringTag:void 0;var Pi=Object.prototype.toString;var zi="[object Null]",Ni="[object Undefined]",Ei=xi?xi.toStringTag:void 0;function Ii(t){return null==t?void 0===t?Ni:zi:Ei&&Ei in Object(t)?function(t){var e=Fi.call(t,Ti),r=t[Ti];try{t[Ti]=void 0;var n=!0}catch(t){}var o=ki.call(t);return n&&(e?t[Ti]=r:delete t[Ti]),o}(t):function(t){return Pi.call(t)}(t)}function Ui(t){return null!=t&&"object"==typeof t}var Yi="[object Symbol]";function Li(t){return"symbol"==typeof t||Ui(t)&&Ii(t)==Yi}var Ci=NaN,Hi=/^[-+]0x[0-9a-f]+$/i,Wi=/^0b[01]+$/i,Bi=/^0o[0-7]+$/i,Vi=parseInt;function qi(t){if("number"==typeof t)return t;if(Li(t))return Ci;if($i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=$i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=wi(t);var r=Wi.test(t);return r||Bi.test(t)?Vi(t.slice(2),r?2:8):Hi.test(t)?Ci:+t}var Ji=1/0,Ri=17976931348623157e292;function Zi(t){return t?(t=qi(t))===Ji||t===-Ji?(t<0?-1:1)*Ri:t==t?t:0:0===t?t:0}function Gi(t){if(!di(t))return 0;return Zi(t)}var Qi={};!function(t,e){t.exports=function(){var t=1e3,e=6e4,r=36e5,n="millisecond",o="second",i="minute",a="hour",u="day",c="week",s="month",f="quarter",l="year",h="date",p="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},b=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},g={s:b,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),o=r%60;return(e<=0?"+":"-")+b(n,2,"0")+":"+b(o,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),o=e.clone().add(n,s),i=r-o<0,a=e.clone().add(n+(i?-1:1),s);return+(-(n+(r-o)/(i?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:s,y:l,w:c,d:u,D:h,h:a,m:i,s:o,ms:n,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},j="en",_={};_[j]=y;var m="$isDayjsObject",O=function(t){return t instanceof M||!(!t||!t[m])},w=function t(e,r,n){var o;if(!e)return j;if("string"==typeof e){var i=e.toLowerCase();_[i]&&(o=i),r&&(_[i]=r,o=i);var a=e.split("-");if(!o&&a.length>1)return t(a[0])}else{var u=e.name;_[u]=e,o=u}return!n&&o&&(j=o),o||!n&&j},$=function(t,e){if(O(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new M(r)},S=g;S.l=w,S.i=O,S.w=function(t,e){return $(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var M=function(){function y(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[m]=!0}var b=y.prototype;return b.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(S.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(v);if(n){var o=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return S},b.isValid=function(){return!(this.$d.toString()===p)},b.isSame=function(t,e){var r=$(t);return this.startOf(e)<=r&&r<=this.endOf(e)},b.isAfter=function(t,e){return $(t)<this.startOf(e)},b.isBefore=function(t,e){return this.endOf(e)<$(t)},b.$g=function(t,e,r){return S.u(t)?this[e]:this.set(r,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,e){var r=this,n=!!S.u(e)||e,f=S.p(t),p=function(t,e){var o=S.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?o:o.endOf(u)},v=function(t,e){return S.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},d=this.$W,y=this.$M,b=this.$D,g="set"+(this.$u?"UTC":"");switch(f){case l:return n?p(1,0):p(31,11);case s:return n?p(1,y):p(0,y+1);case c:var j=this.$locale().weekStart||0,_=(d<j?d+7:d)-j;return p(n?b-_:b+(6-_),y);case u:case h:return v(g+"Hours",0);case a:return v(g+"Minutes",1);case i:return v(g+"Seconds",2);case o:return v(g+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(t,e){var r,c=S.p(t),f="set"+(this.$u?"UTC":""),p=(r={},r[u]=f+"Date",r[h]=f+"Date",r[s]=f+"Month",r[l]=f+"FullYear",r[a]=f+"Hours",r[i]=f+"Minutes",r[o]=f+"Seconds",r[n]=f+"Milliseconds",r)[c],v=c===u?this.$D+(e-this.$W):e;if(c===s||c===l){var d=this.clone().set(h,1);d.$d[p](v),d.init(),this.$d=d.set(h,Math.min(this.$D,d.daysInMonth())).$d}else p&&this.$d[p](v);return this.init(),this},b.set=function(t,e){return this.clone().$set(t,e)},b.get=function(t){return this[S.p(t)]()},b.add=function(n,f){var h,p=this;n=Number(n);var v=S.p(f),d=function(t){var e=$(p);return S.w(e.date(e.date()+Math.round(t*n)),p)};if(v===s)return this.set(s,this.$M+n);if(v===l)return this.set(l,this.$y+n);if(v===u)return d(1);if(v===c)return d(7);var y=(h={},h[i]=e,h[a]=r,h[o]=t,h)[v]||1,b=this.$d.getTime()+n*y;return S.w(b,this)},b.subtract=function(t,e){return this.add(-1*t,e)},b.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||p;var n=t||"YYYY-MM-DDTHH:mm:ssZ",o=S.z(this),i=this.$H,a=this.$m,u=this.$M,c=r.weekdays,s=r.months,f=r.meridiem,l=function(t,r,o,i){return t&&(t[r]||t(e,n))||o[r].slice(0,i)},h=function(t){return S.s(i%12||12,t,"0")},v=f||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(d,(function(t,n){return n||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return S.s(e.$y,4,"0");case"M":return u+1;case"MM":return S.s(u+1,2,"0");case"MMM":return l(r.monthsShort,u,s,3);case"MMMM":return l(s,u);case"D":return e.$D;case"DD":return S.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return l(r.weekdaysMin,e.$W,c,2);case"ddd":return l(r.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(i);case"HH":return S.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return v(i,a,!0);case"A":return v(i,a,!1);case"m":return String(a);case"mm":return S.s(a,2,"0");case"s":return String(e.$s);case"ss":return S.s(e.$s,2,"0");case"SSS":return S.s(e.$ms,3,"0");case"Z":return o}return null}(t)||o.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,h,p){var v,d=this,y=S.p(h),b=$(n),g=(b.utcOffset()-this.utcOffset())*e,j=this-b,_=function(){return S.m(d,b)};switch(y){case l:v=_()/12;break;case s:v=_();break;case f:v=_()/3;break;case c:v=(j-g)/6048e5;break;case u:v=(j-g)/864e5;break;case a:v=j/r;break;case i:v=j/e;break;case o:v=j/t;break;default:v=j}return p?v:S.a(v)},b.daysInMonth=function(){return this.endOf(s).$D},b.$locale=function(){return _[this.$L]},b.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=w(t,e,!0);return n&&(r.$L=n),r},b.clone=function(){return S.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},y}(),A=M.prototype;return $.prototype=A,[["$ms",n],["$s",o],["$m",i],["$H",a],["$W",u],["$M",s],["$y",l],["$D",h]].forEach((function(t){A[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),$.extend=function(t,e){return t.$i||(t(e,M,$),t.$i=!0),$},$.locale=w,$.isDayjs=O,$.unix=function(t){return $(1e3*t)},$.en=_[j],$.Ls=_,$.p={},$}()}({get exports(){return Qi},set exports(t){Qi=t}});var Ki=Qi;function Xi(){if(!function(t){let e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e}(Ki))throw new Error("invalid dayjs");return Ki().format("YYYYMMDDHHmmss")}function ta(t){var e=Zi(t),r=e%1;return e==e?r?e-r:e:0}function ea(t){return!!di(t)&&(t=Gi(t),"number"==typeof(e=t)&&e==ta(e));var e}var ra=Array.isArray,na=1/0,oa=xi?xi.prototype:void 0,ia=oa?oa.toString:void 0;function aa(t){if("string"==typeof t)return t;if(ra(t))return function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}(t,aa)+"";if(Li(t))return ia?ia.call(t):"";var e=t+"";return"0"==e&&1/t==-na?"-0":e}function ua(t){return null==t?"":aa(t)}var ca=Ai.isFinite,sa=Math.min;var fa,la=(fa=Math["round"],function(t,e){if(t=qi(t),(e=null==e?0:sa(ta(e),292))&&ca(t)){var r=(ua(t)+"e").split("e");return+((r=(ua(fa(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return fa(t)});function ha(t){if(!di(t))return 0;t=Gi(t);let e=la(t);return"0"===String(e)?0:e}let pa="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),va=pa.length;function da(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=[];var r;t=ea(r=t)&&ha(r)>0?ha(t):32;for(let r=0;r<t;r++)e[r]=pa[0|Math.random()*va];return e.join("")}function ya(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}var ba,ga=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),a=i.length;a--;){var u=i[ba?a:++n];if(!1===e(o[u],u,o))break}return t};function ja(t){return Ui(t)&&"[object Arguments]"==Ii(t)}var _a=Object.prototype,ma=_a.hasOwnProperty,Oa=_a.propertyIsEnumerable,wa=ja(function(){return arguments}())?ja:function(t){return Ui(t)&&ma.call(t,"callee")&&!Oa.call(t,"callee")},$a=wa;var Sa="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ma=Sa&&"object"==typeof module&&module&&!module.nodeType&&module,Aa=Ma&&Ma.exports===Sa?Ai.Buffer:void 0,xa=(Aa?Aa.isBuffer:void 0)||function(){return!1},Da=9007199254740991,Fa=/^(?:0|[1-9]\d*)$/;function ka(t,e){var r=typeof t;return!!(e=null==e?Da:e)&&("number"==r||"symbol"!=r&&Fa.test(t))&&t>-1&&t%1==0&&t<e}var Ta=9007199254740991;function Pa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ta}var za={};za["[object Float32Array]"]=za["[object Float64Array]"]=za["[object Int8Array]"]=za["[object Int16Array]"]=za["[object Int32Array]"]=za["[object Uint8Array]"]=za["[object Uint8ClampedArray]"]=za["[object Uint16Array]"]=za["[object Uint32Array]"]=!0,za["[object Arguments]"]=za["[object Array]"]=za["[object ArrayBuffer]"]=za["[object Boolean]"]=za["[object DataView]"]=za["[object Date]"]=za["[object Error]"]=za["[object Function]"]=za["[object Map]"]=za["[object Number]"]=za["[object Object]"]=za["[object RegExp]"]=za["[object Set]"]=za["[object String]"]=za["[object WeakMap]"]=!1;var Na="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ea=Na&&"object"==typeof module&&module&&!module.nodeType&&module,Ia=Ea&&Ea.exports===Na&&Si.process,Ua=function(){try{var t=Ea&&Ea.require&&Ea.require("util").types;return t||Ia&&Ia.binding&&Ia.binding("util")}catch(t){}}(),Ya=Ua&&Ua.isTypedArray,La=Ya?function(t){return function(e){return t(e)}}(Ya):function(t){return Ui(t)&&Pa(t.length)&&!!za[Ii(t)]},Ca=La,Ha=Object.prototype.hasOwnProperty;function Wa(t,e){var r=ra(t),n=!r&&$a(t),o=!r&&!n&&xa(t),i=!r&&!n&&!o&&Ca(t),a=r||n||o||i,u=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=u.length;for(var s in t)!e&&!Ha.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ka(s,c))||u.push(s);return u}var Ba=Object.prototype;var Va=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),qa=Va,Ja=Object.prototype.hasOwnProperty;function Ra(t){if(r=(e=t)&&e.constructor,e!==("function"==typeof r&&r.prototype||Ba))return qa(t);var e,r,n=[];for(var o in Object(t))Ja.call(t,o)&&"constructor"!=o&&n.push(o);return n}var Za="[object AsyncFunction]",Ga="[object Function]",Qa="[object GeneratorFunction]",Ka="[object Proxy]";function Xa(t){return null!=t&&Pa(t.length)&&!function(t){if(!$i(t))return!1;var e=Ii(t);return e==Ga||e==Qa||e==Za||e==Ka}(t)}function tu(t){return Xa(t)?Wa(t):Ra(t)}var eu=function(t,e){return function(r,n){if(null==r)return r;if(!Xa(r))return t(r,n);for(var o=r.length,i=e?o:-1,a=Object(r);(e?i--:++i<o)&&!1!==n(a[i],i,a););return r}}((function(t,e){return t&&ga(t,e,tu)})),ru=eu;function nu(t){return t}function ou(t,e){var r;return(ra(t)?ya:ru)(t,"function"==typeof(r=e)?r:nu)}function iu(e){return!!t.existsSync(e)&&(!t.lstatSync(e).isFile()&&!t.lstatSync(e).isSymbolicLink())}function au(e){return!!t.existsSync(e)&&(!t.lstatSync(e).isDirectory()&&!t.lstatSync(e).isSymbolicLink())}let uu=t.readFileSync("./node_modules/highcharts/highcharts.js","utf8"),cu=t.readFileSync("./node_modules/highcharts/modules/stock.js","utf8"),su=t.readFileSync("./node_modules/highcharts/modules/heatmap.js","utf8"),fu=t.readFileSync("./node_modules/highcharts/modules/annotations.js","utf8"),lu=t.readFileSync("./node_modules/highcharts/modules/boost.js","utf8"),hu=t.readFileSync("./node_modules/highcharts/modules/boost-canvas.js","utf8"),pu=process.cwd();return async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:700,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!di(n))return Promise.reject("width is not a number");if(n=Gi(n),n<=0)return Promise.reject("width <= 0");if(!di(o))return Promise.reject("height is not a number");if(o=Gi(o),o<=0)return Promise.reject("height <= 0");if(!di(i))return Promise.reject("scale is not a number");if(i=Gi(i),i<=0)return Promise.reject("scale <= 0");if(!_i(a)&&!pi(a))return Promise.reject("opt is not an effective object or string");let c=me(u,"addScripts");ji(c)||(c=[]);let s=me(u,"addCode");ji(s)||(s="");let f=me(u,"executablePath",""),l=me(u,"executableFolder","");if(pi(l)&&!pi(f)){let r=function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=1;if(!iu(r))throw new Error(`fd[${r}] is not a folder`);return function r(i){let a=[];return iu(i)?(ou(t.readdirSync(i),(function(u){let c=e.resolve(i,u),s=null;try{s=t.statSync(c)}catch(t){}s&&s.isDirectory()?(a.push({isFolder:!0,level:o,path:c,name:e.basename(c)}),o+=1,(o<=n||null===n)&&(a=a.concat(r(c))),o-=1):a.push({isFolder:!1,level:o,path:c,name:e.basename(c)})})),a):a}(r)}(l,null),n=li(r,(t=>"chrome.exe"===t.name));if(!_i(n))throw new Error(`can not find chrome.exe in executableFolder[${l}]`);f=n.path}let h="";if(pi(a))h=a;else{h=`let opt=${JSON.stringify(a)};`}let p=`./whpic-${Xi()}-${da()}.png`,v=e.resolve(pu,p),d=`./whweb-${Xi()}-${da()}.html`,y=e.resolve(pu,d),b="";Pr(c,(t=>{b+=`<script src="${t}"><\/script>`}));let g="\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <title>highcharts to png</title>\n\n  <script src=\"https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js\"><\/script>\n\n  <script>{code_highcharts}<\/script>\n  <script>{code_stock}<\/script>\n  <script>{code_heatmap}<\/script>\n  <script>{code_annotations}<\/script>\n  <script>{code_boost}<\/script>\n  <script>{code_boost_canvas}<\/script>\n\n  {add_scripts}\n\n  <script>{add_code}<\/script>\n\n</head>\n<body style=\"padding:0; margin:0;\">\n\n    <div id=\"hc\" style=\"width:{width}px; height:{height}px;\"></div>\n\n    <script>\n\n        {cOpt}\n\n        if(_.isObject(opt)){\n\n            //強制關閉動畫避免過慢顯示無法截到數據圖\n            _.set(opt, 'chart.animation', false)\n            _.set(opt, 'plotOptions.series.animation', false)\n            // console.log('opt', opt)\n        \n            //plot\n            Highcharts.chart('hc', opt)\n\n        }\n        else{\n            console.log('invalid opt')\n        }\n\n    <\/script>\n\n</body>\n</html>\n";g=g.replace("{width}",n),g=g.replace("{height}",o),g=g.replace("{cOpt}",h),g=g.replace("{code_highcharts}",uu),g=g.replace("{code_stock}",cu),g=g.replace("{code_heatmap}",su),g=g.replace("{code_annotations}",fu),g=g.replace("{code_boost}",lu),g=g.replace("{code_boost_canvas}",hu),g=g.replace("{add_scripts}",b),g=g.replace("{add_code}",s),t.writeFileSync(y,g,"utf8");let j="";return await(async()=>{let e={headless:"new",slowMo:20};pi(f)&&(e.executablePath=f);let a=await r.launch(e),u=await a.newPage(),c={x:0,y:0,width:Number(n),height:Number(o),deviceScaleFactor:Number(i)};await u.goto(y),await u.setViewport(c),await u.screenshot({path:v}),await a.close(),j=t.readFileSync(v,{encoding:"base64"})})().catch((t=>{console.log(t)})),au(y)&&t.unlinkSync(y),au(v)&&t.unlinkSync(v),j}}));
//# sourceMappingURL=w-hc-2-png.umd.js.map
